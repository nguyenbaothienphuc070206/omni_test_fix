# Architect-OMNI-Ultimate - Contributor Notes

> **For contributors**
> This file documents conventions for working on this codebase.

---

## Project Overview

**Framework:** Cython  
**Language:** Cython  
**Architecture:** grpc  
**Quality Score:** 90.0/100

---

## Project Structure

This service follows a clean architecture pattern with these core directories:

```
Total: 32 files
  .env.example
  README.md
  gateway/docs.py
  gateway/filters.py
  gateway/endpoints.py
  app.py
  auth.py
  aegis_types.pyx
  database.py
  messaging/__init__.py
  messaging/dispatch.py
  scoring/__init__.py
  scoring/predictor.py
  aegis_app.py
  ... and 17 more files
```

**Key Components:**

- **API Layer**: gateway/endpoints.py, gateway/filters.py, gateway/docs.py
- **Data Models**: aegis_types.pyx (+ Python fallback), models.py
- **Business Logic**: chronicle/, intake/, fabric/, quorum/, covenant/, sentinel/, cipherworks/
- **Tests** (1 files): tests/test_user.py

---

## ‚öôÔ∏è Framework-Specific Rules

### Cython Best Practices

1. Follow Cython official documentation patterns
2. Use framework-specific idioms and conventions
3. Implement proper error handling
4. Add logging for debugging
5. Write tests for all new features

---

## üîß Language-Specific Best Practices

### Cython Best Practices

- Follow Cython official style guide
- Use proper error handling
- Add comments for complex logic
- Write tests for all features
- Keep functions small and focused

---

## ‚úÖ Code Examples

### CORRECT Pattern ‚úÖ

```cython
// Example code for  Cython in  Cython
// TODO: Add framework-specific correct example
```

### INCORRECT Pattern ‚ùå

```cython
// ‚ùå Example of what NOT to do
// Missing error handling, validation, and type safety
```

---

## üß™ Testing Strategy

**When adding new features:**

1. **Write tests FIRST** (TDD approach)
2. **Test files location:** Same directory as source, or `tests/` folder
3. **Naming convention:** `test_*.test` or `*.test.test`

**Example test structure:**

```cython
# Test example for  Cython in  Cython
```

---

## üö® Common Pitfalls to Avoid

### ‚ùå DON'T:

1. **Mix frameworks** - Don't use Express patterns in FastAPI, or Django patterns in Flask
2. **Hardcode secrets** - Use environment variables for API keys, passwords, etc.
3. **Skip validation** - Always validate input data at API boundaries
4. **Ignore errors** - Handle exceptions properly, don't use empty catch blocks
5. **Break conventions** - Follow the existing file naming and structure patterns

### ‚úÖ DO:

1. **Follow existing patterns** - Check similar files before creating new ones
2. **Use type hints** - Add type annotations for better code quality (if language supports)
3. **Write tests** - Every new feature should have tests
4. **Document complex logic** - Add comments for non-obvious business logic
5. **Keep it DRY** - Extract common logic into reusable functions/services

---

## üîê Security Requirements

**ALWAYS:**

- Validate and sanitize ALL user inputs
- Use parameterized queries (prevent SQL injection)
- Implement rate limiting on public endpoints
- Never log sensitive data (passwords, tokens, etc.)
- Use HTTPS in production
- Keep dependencies updated

---

## üì¶ Adding New Features

**Standard workflow:**

1. **Create model/schema** (if needed) in `models/` or `schemas/`
2. **Add business logic** in `services/` directory
3. **Create API endpoint** in `routes/` or `controllers/`
4. **Write tests** for new functionality
5. **Update documentation** (README.md if public-facing)

---

## üõ†Ô∏è Environment Setup

**Required environment variables:**

Check `.env.example` for the complete list. Key variables:

- `DATABASE_URL` - Database connection string
- `SECRET_KEY` / `JWT_SECRET` - Authentication secret
- `API_PORT` - Server port (default: varies by framework)
- Framework-specific vars (check `.env.example`)

---

## üé® Code Style

**Follow these conventions:**

- Follow Cython official style guide
- Use linter/formatter
- Consistent naming
- Proper indentation

---

## üöÄ Deployment Checklist

Before deploying changes:

- [ ] All tests passing
- [ ] No hardcoded secrets or API keys
- [ ] Environment variables documented in `.env.example`
- [ ] Database migrations created (if schema changed)
- [ ] Error handling implemented
- [ ] Logging added for debugging
- [ ] Performance tested (if high-traffic endpoint)
- [ ] Security reviewed (input validation, auth, etc.)

---

## üìö Additional Resources

- **Architecture:** See [ARCHITECTURE.md](ARCHITECTURE.md) for detailed system design
- **Setup:** See [README.md](README.md) for installation and running instructions
- **Framework Docs:** Search: Cython documentation
- **Language Docs:** Search: Cython documentation

---

## Contributor Notes

When making changes in this project:

1. **Respect the framework** - Only suggest Cython-compatible code
2. **Match the language** - All code should be in Cython
3. **Follow patterns** - Check existing files for style/structure reference
4. **Include error handling** - Don't suggest bare `try/catch` blocks
5. **Add type hints** - If the language supports it ( Cython)
6. **Generate tests** - When creating new features, also suggest tests

**Quality over speed:** Suggest production-ready code, not quick hacks.

---

_Last Updated: 2026-01-31 14:05:30_
